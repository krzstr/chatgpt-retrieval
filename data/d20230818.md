DTS API. So, what is happening? Do you know what DTS is? Probably yes. DTS is basically a digital tax stamp system from a manufacturer or service provider called De La Rue, who is also the main service provider for the GCC, Gulf Cooperation Council countries, so basically Arab countries to summarize it. This includes several markets at the moment, but mainly Saudi Arabia, United Arab Emirates, Oman, Bahrain, and there must be a fifth one that I'm missing, but you know, just take the documentation or look at the code and you will get it better than me. 

So in DTS, the inbound interface, our outbound interface to DTS is EPCIS and an EPCIS that will let us push commissioning messages, aggregation messages, and shipments. I'm trying to find my DTS. So the idea of this activity, so in fact, okay, let me speak about the problem and then I'll bring the solution. 

Since the beginning, since 2019, we have issues with DTS for multiple reasons. First of all, because DTS is a non-reliable system. It has some performance issues. It's a system that will send you an acknowledgement that your message has been received. It does not tell you if it is delivered to the proper system correctly and certainly not processed correctly. So basically when we receive an acknowledgement from a DTS system, it just means, okay, I received the message. It doesn't mean that it has been processed successfully. 

Also, we do have a lot of timeouts. So we do have a retry policy when it's timing out. However, after the fifth retry, we just give it up. So sometimes some messages do not get processed and at the time of shipment, it happens often that some issue needs to be resolved before shipment can happen. Right now, we are typically pushing the shipment and when the shipment is failing, De La Rue identifies the error, contacts the manufacturer. In this case, it's PMI, but it can be Universal or other manufacturers. Manufacturers contact our level two support. Then they are in communication. It's never very clear what kind of error there is and we need to fix the issue. We need to fix the issue, but the problem is that if products are in error, it may be a bit late to fix an issue when the goods have already been shipped out. 

So the idea is to try to identify the issue as early as possible. That's the goal of this activity. De La Rue has put in place an API and the idea is that we're going to try to call this API. 

Now, that's not all. I don't know if you are aware of how we are doing shipment to De La Rue, to DTS. A DTS shipment basically contains several information. It contains the codes that are going to be shipped. It's typically ballots. It contains, of course, transactional information like a document number. It contains the different entities that are associated to the shipment, but it also contains what they're calling a waybill. So what is a waybill? You probably know that if you're using DHL, for instance, because the waybill is basically the tracking number. It's kind of standardized and it's basically the tracking number. You've got several variants. You have the airway bill in case of an air shipment. You have the seaway bill in case of shipment by boat, but basically the waybill is the tracking number of your consignment. 

So basically, for DTS, for the shipment to be accepted and processed, we need to provide the waybill. What does that mean that we need to provide the waybill? That means that the waybill is going to be received basically when we are at the dock. The boat is on the dock ready to be loaded. It's too late basically to block the goods. So if there's any issue at the time of shipment, De La Rue will identify it a few minutes or hours later. Goods will already be on the boat and potentially the boat may already be on its way. So basically, if the master case is defect and needs to be replaced, it's too late. 

So the idea is, let me just go back to... So these are different checks that De La Rue is doing. In fact, when the data reaches the border, the customs are verifying of course that the shipment is marked as successful, but they also do some quantity checks. They also do checks, a random code check. So we need to make sure that everything is fine. 

So De La Rue is going to expose a few APIs for verification. So we will be able to check a few things. I'm not going to go too much into the detail, first of all, because I have never seen this API and I don't even think that it's already implemented. 

Okay, so the idea is that we're going to have multiple phases. Right now, we have agreed there was, I think there was a PO for phase one and phase two. Phase one is the pre-validation. So basically, the idea is that we will be, whenever we receive a shipment, sorry, yeah, a shipment, we are going to send it directly without the waybill information to De La Rue. So right now, the process is that we receive shipment events. We don't do anything. Then we have an API to create the waybill and we have a user interface screen to create a waybill and provide the information. And that's only when we're going to push the data to De La Rue. Okay, so at the time of waybill creation. 

So the idea is that in the future, okay, in the near future, we're not going to wait for this waybill to be received. We receive a shipment. We will send it directly to De La Rue, what they call pre-validation. And once we send this shipment, so we'll send, the idea is that we send it as soon as we have the information without master data, i.e. without waybill. And they are going to pre-validate it. Okay, so De La Rue is going to do the validation and they will tell us, okay, there's this, this and that error, please correct it. And then only at the time of shipping, they will be, you know, at the time of the real shipment, they will provide the waybill, will create a shipping message, push the message that has previously been validated. 

Okay, so as you can see here, this is the, what they call the master data. This is waybill information. Oops, so this is the current process, current process, we provide waybill, blah, blah, blah, we, and, and there's no new process, but in the future, basically, we're going to send this information as soon as we have it. And then in the second step, we are sending the, the master data whenever we create a waybill. So the process will stay similar, will provide still this information, but, but then at the time we are sending, we, sorry, at the time we save, it will send only the master data because the rest of the information would have already been sent. Clear? 

So basically, we split this message into two parts, the master data part, which will be, sorry, the, the body, which will be sent immediately as soon as we receive the receive the shipment, the corresponding shipment, and the master data, which will be sent whenever we create a waybill. So that's basically the goal of phase one. Goal of phase one is to send the same information, but at different time. At the time of shipment, we send the shipment information, at the time of waybill creation, we send the waybill information. 

Then phase two. So basically, when the operator will be preparing a new shipment, during the picking operation, it should enter item list to a new aggregation check screen for each pallet entered, a post will be done on the DTS API, and we will show the, the results. So basically, the idea is that, that's the, the API. So, you know, here, it's not clear if, to me, maybe we should ask Romina if she's around. No, she's not. If this feature need to be done in, in extend, and, and we'll be checking the, the pallets, sorry, the, the, the item through an in extend message, or if we need to have a user interface to do this check. So basically, the idea is that someone is going to check code by code, and we are going to do an API call to DTS to verify if the, if the codes are valid or not. So for each code, we'll have to show a status and eventually an error message. 

Okay. I don't know if we need to go to phase three, but basically phase three is, the idea is that every time we are making a call, I mean, we're, we are sending an aggregation to De La Rue, sending an aggregation to De La Rue, we are going to check if the message was processed successfully or not. So I told Romina that we should not accept to do this, because obviously, you know, if we need to do it synchronously, because their APIs are synchronous, it will require a lot of processing. And, you know, it may be complicated to, to get, you know, I mean, we will be having a lot of problem with volumes of data. So we are trying to see if they can put in place an asynchronous delivery of status. That is not yet committed. 

And here, phase four is basically monitoring. So, so basically, the possibility to get the information that we collected at this point, being transmitted to InExpress, so that we can check on InExpress site and say, okay, this master case is okay. We can, we can get it out of the factory, or no, this, this master case is bad, and we need to fix it. 

Okay. I guess that's it. So that's basically the goal of this activity. Right now, we're speaking only about phase one. So phase one basically means that we need to change our logic so that every time we receive a delivery note, not a delivery note, sorry, a shipment event, we will trigger a shipment without master data. And whenever we create, whenever we create a waybill, then we will be sending the waybill without the shipment. So we decorrelate waybill and shipment. That's it. I don't know if it's clear, if you have any questions. 

Not for now, probably. I will watch this meeting again, and then I will have some. There are no any tasks or research stories created yet? I don't know. I think there is, but I'm not sure. I think I must have created it possibly a long time ago, but let me just check. So if I go to word, backlogs, DTS API, pre-validation, it's there. It's not me who created it, probably Romina. Otherwise, I would remember these titles, but yeah, it was created by Romina. But I have seen them, and I have even estimated them. 

Okay. Can you send me a link to the user story? The first user story is that we should be able to keep the current behavior through configuration. So basically, there must be a configuration setting that says if we are sending master data together with shipment, or if we send it separate. 

Okay. Can you send link to this whole EPIC? Yes. So this is top level links for all EPICs. I will send you this one. You know, I prefer the other view because you can see everything on one. Yeah, that's more reliable. I got it. 

Yeah. You know, it's connectivity test. We will need to check if we have already a test system. I'm not sure about that. At the time I last checked it, there was not. 

Okay. All right. If you do not have any other questions, I guess we can end this meeting. Yep. I got it. Here, as you can see, we do have some peaks. We're going from a normal rate of 500, 600 to a rate of 2,000. It happens to be almost always close to the beginning of an hour. And, you know, I have the impression that it's a dysfunctioning InExpress. You see here we've got this peak as well. We've got this one. And, yeah, we need to understand why we have that. Anyway, let me just check that. If you have anything, if you have nothing, let's end this meeting then. Okay. Hello? I think you are on mute. Yeah, I'm mute, but I didn't talk anything. Okay. So, should we end this meeting? Yeah, I think we can. Romina is writing something to me, so I need to check that. Okay. Thank you. Okay. Thank you very much.
